import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as t,o as p,c as o,d as n,e as s,b as c,w as l,a as i}from"./app-UCWpdoSl.js";const u={},d=n("h1",{id:"嵌入模型",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#嵌入模型"},[n("span",null,"嵌入模型")])],-1),r=n("p",null,"如何用一段话去数据库查找数据？答案是向量求相似度。在高中的时候我们学过可以用cos求两个向量之间的夹角，cos值越大，夹角越小，夹角越小，相似度越高。",-1),k=n("p",null,"所以第一件事情需要将句子向量化，然后和向量数据库中的向量进行比较，找到最相似的向量。",-1),m=n("p",null,"嵌入模型就可以帮我们做到这件事情。",-1),v=n("h2",{id:"使用嵌入模型",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#使用嵌入模型"},[n("span",null,"使用嵌入模型")])],-1),b=i(`<p>选择模型</p><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code>    <span class="token comment"># 阿里灵积</span>
    <span class="token key atrule">dash-scope</span><span class="token punctuation">:</span>
      <span class="token key atrule">api-key</span><span class="token punctuation">:</span> xxx
      <span class="token key atrule">enabled</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      <span class="token key atrule">chat</span><span class="token punctuation">:</span>
        <span class="token key atrule">model</span><span class="token punctuation">:</span> qwen<span class="token punctuation">-</span>max
      <span class="token key atrule">embedding</span><span class="token punctuation">:</span>
        <span class="token comment"># 嵌入模型</span>
        <span class="token key atrule">model</span><span class="token punctuation">:</span> text<span class="token punctuation">-</span>embedding<span class="token punctuation">-</span>v2
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>文本嵌入</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token comment">// 阿里嵌入模型</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">DashScopeAiEmbeddingModel</span> embeddingModel<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">embeddingTest</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 文本嵌入</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Double</span><span class="token punctuation">&gt;</span></span> embed <span class="token operator">=</span> embeddingModel<span class="token punctuation">.</span><span class="token function">embed</span><span class="token punctuation">(</span><span class="token string">&quot;你好，我的名字是起凡&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;文本转换得到的向量: {}&quot;</span><span class="token punctuation">,</span> embed<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,4);function _(h,g){const a=t("RouterLink");return p(),o("div",null,[d,r,k,m,v,n("p",null,[s("请参考"),c(a,{to:"/project/spring-ai/config/base.html"},{default:l(()=>[s("基础配置")]),_:1}),s("。本例使用的是阿里嵌入模型。")]),b])}const x=e(u,[["render",_],["__file","embedding.html.vue"]]);export{x as default};
