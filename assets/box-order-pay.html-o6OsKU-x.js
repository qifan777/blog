import{_ as e}from"./plugin-vue_export-helper-x3n3nnut.js";import{r as o,o as c,c as u,d as n,e as s,b as t,w as p,a as i}from"./app---xxlxS0.js";const l={},r=n("h1",{id:"订单支付",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#订单支付"},[n("span",null,"订单支付")])],-1),k=n("figure",null,[n("img",{src:"https://pay.wechatpay.cn/wiki/doc/apiv3/assets/img/pay/wechatpay/6_2.png",alt:"微信小程序支付流程图",tabindex:"0",loading:"lazy"}),n("figcaption",null,"微信小程序支付流程图")],-1),d=n("li",null,[n("p",null,[s("4-8 "),n("a",{href:"#%E9%A2%84%E6%94%AF%E4%BB%98"},"预支付阶段"),s("，后端会调用微信支付接口生成一个预支付订单，订单信息，包括订单金额、支付人信息、支付相关参数等。")])],-1),m=n("li",null,[n("p",null,[s("9-15 "),n("a",{href:"#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%94%AF%E4%BB%98"},"小程序支付"),s("，小程序端发起支付用户输入密码确认支付阶段。")])],-1),v=n("li",null,[n("p",null,[s("16-19 "),n("a",{href:"#%E6%94%AF%E4%BB%98%E5%9B%9E%E8%B0%83"},"支付回调"),s("，随机生成从盲盒中挑选商品生成")])],-1),y=n("h2",{id:"预支付",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#预支付"},[n("span",null,"预支付")])],-1),b=n("code",null,"weChatPayService.prepay",-1),f=i(`<div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token comment">// MysteryBoxOrderService#prepay</span>
    <span class="token keyword">public</span> <span class="token class-name">WxPayUnifiedOrderV3Result<span class="token punctuation">.</span>JsapiResult</span> <span class="token function">prepay</span><span class="token punctuation">(</span><span class="token class-name">String</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">MysteryBoxOrder</span> mysteryBoxOrder <span class="token operator">=</span> mysteryBoxOrderRepository<span class="token punctuation">.</span><span class="token function">findById</span><span class="token punctuation">(</span>id<span class="token punctuation">,</span> <span class="token class-name">MysteryBoxOrderRepository</span><span class="token punctuation">.</span><span class="token constant">COMPLEX_FETCHER_FOR_FRONT</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">orElseThrow</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token keyword">new</span> <span class="token class-name">BusinessException</span><span class="token punctuation">(</span><span class="token class-name">ResultCode<span class="token punctuation">.</span>NotFindError</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">checkStatus</span><span class="token punctuation">(</span>mysteryBoxOrder<span class="token punctuation">,</span> <span class="token class-name">DictConstants<span class="token punctuation">.</span>ProductOrderStatus</span><span class="token punctuation">.</span><span class="token constant">TO_BE_PAID</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">checkOwner</span><span class="token punctuation">(</span>mysteryBoxOrder<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">WxPayUnifiedOrderV3Result<span class="token punctuation">.</span>JsapiResult</span> prepay <span class="token operator">=</span> weChatPayService<span class="token punctuation">.</span><span class="token function">prepay</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WeChatPayModel</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setBaseOrder</span><span class="token punctuation">(</span>mysteryBoxOrder<span class="token punctuation">.</span><span class="token function">baseOrder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setExpiredMinutes</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">setNotifyUrl</span><span class="token punctuation">(</span><span class="token string">&quot;/front/mystery-box-order/notify/pay/wechat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;预支付订单内容：{}&quot;</span><span class="token punctuation">,</span> prepay<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> prepay<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="小程序支付" tabindex="-1"><a class="header-anchor" href="#小程序支付"><span>小程序支付</span></a></h2><p><code>box-order.ts</code>封装了盲盒订单的支付方法，在订单列表页面可以发起支付，订单详情页也可以发起支付，因此放到ts文件中。</p><p>调用<a href="#%E9%A2%84%E6%94%AF%E4%BB%98">预支付接口</a>，得到预支付参数再通过<code>Taro.requestPayment</code>向微信支付，支付成功后微信回调我们的服务器。</p><div class="language-typescript line-numbers-mode" data-ext="ts" data-title="ts"><pre class="language-typescript"><code><span class="token comment">// box-order.ts</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">boxWeChatPay</span> <span class="token operator">=</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name"><span class="token builtin">Promise</span><span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">(</span>resolve<span class="token punctuation">,</span> reject<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    Taro<span class="token punctuation">.</span><span class="token function">showLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    api<span class="token punctuation">.</span>mysteryBoxOrderForFrontController
      <span class="token punctuation">.</span><span class="token function">prepayWechat</span><span class="token punctuation">(</span><span class="token punctuation">{</span> id <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        Taro<span class="token punctuation">.</span><span class="token function">requestPayment</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
          nonceStr<span class="token operator">:</span> res<span class="token punctuation">.</span>nonceStr<span class="token punctuation">,</span>
          <span class="token keyword">package</span><span class="token operator">:</span> res<span class="token punctuation">.</span>packageValue<span class="token punctuation">,</span>
          paySign<span class="token operator">:</span> res<span class="token punctuation">.</span>paySign<span class="token punctuation">,</span>
          timeStamp<span class="token operator">:</span> res<span class="token punctuation">.</span>timeStamp<span class="token punctuation">,</span>
          signType<span class="token operator">:</span> res<span class="token punctuation">.</span>signType <span class="token keyword">as</span> <span class="token string">&quot;RSA&quot;</span><span class="token punctuation">,</span>
          <span class="token function-variable function">success</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            Taro<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
              title<span class="token operator">:</span> <span class="token string">&quot;支付成功&quot;</span><span class="token punctuation">,</span>
              icon<span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Taro<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token function-variable function">fail</span><span class="token operator">:</span> <span class="token punctuation">(</span>res<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
            Taro<span class="token punctuation">.</span><span class="token function">showToast</span><span class="token punctuation">(</span><span class="token punctuation">{</span> title<span class="token operator">:</span> res<span class="token punctuation">.</span>errMsg <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">reject</span><span class="token punctuation">(</span>res<span class="token punctuation">)</span><span class="token punctuation">;</span>
            Taro<span class="token punctuation">.</span><span class="token function">hideLoading</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token function">reject</span><span class="token punctuation">(</span>err<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="支付回调" tabindex="-1"><a class="header-anchor" href="#支付回调"><span>支付回调</span></a></h2><p><code>Taro.requestPayment</code>支付成功后，微信会向<a href="#%E9%A2%84%E6%94%AF%E4%BB%98">预支付</a>时填写的<code>notifyUrl</code>发起回调。</p><p>构造<code>SignatureHeader</code>对象接收微信回调的请求中的请求头</p><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;notify/pay/wechat&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ApiIgnore</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentNotifyWechat</span><span class="token punctuation">(</span><span class="token annotation punctuation">@RequestBody</span> <span class="token class-name">String</span> body<span class="token punctuation">,</span>
                                      <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;Wechatpay-Timestamp&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> timestamp<span class="token punctuation">,</span>
                                      <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;Wechatpay-Nonce&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> nonce<span class="token punctuation">,</span>
                                      <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;Wechatpay-Signature&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> signature<span class="token punctuation">,</span>
                                      <span class="token annotation punctuation">@RequestHeader</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;Wechatpay-Serial&quot;</span><span class="token punctuation">)</span> <span class="token class-name">String</span> serial<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SignatureHeader</span> signatureHeader <span class="token operator">=</span> <span class="token class-name">SignatureHeader</span><span class="token punctuation">.</span><span class="token function">builder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">signature</span><span class="token punctuation">(</span>signature<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">serial</span><span class="token punctuation">(</span>serial<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">nonce</span><span class="token punctuation">(</span>nonce<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">timeStamp</span><span class="token punctuation">(</span>timestamp<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> mysteryBoxOrderService<span class="token punctuation">.</span><span class="token function">paymentNotifyWechat</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> signatureHeader<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>    <span class="token doc-comment comment">/**
     * 支付成功回调
     * <span class="token keyword">@param</span> <span class="token parameter">body</span> 微信回调请求的body，带解密
     * <span class="token keyword">@param</span> <span class="token parameter">signatureHeader</span> 回调的请求头参数
     * <span class="token keyword">@return</span> 返回内容且http状态是200就代表成功，出现异常http状态会变成400，微信会认为回调失败，微信会轮询重试
     */</span>
    <span class="token annotation punctuation">@SneakyThrows</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">paymentNotifyWechat</span><span class="token punctuation">(</span><span class="token class-name">String</span> body<span class="token punctuation">,</span> <span class="token class-name">SignatureHeader</span> signatureHeader<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// 解密回调数据</span>
        <span class="token class-name">WxPayNotifyV3Result<span class="token punctuation">.</span>DecryptNotifyResult</span> notifyResult <span class="token operator">=</span> wxPayService<span class="token punctuation">.</span><span class="token function">parseOrderNotifyV3Result</span><span class="token punctuation">(</span>body<span class="token punctuation">,</span> signatureHeader<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">getResult</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;支付回调:{}&quot;</span><span class="token punctuation">,</span> notifyResult<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> outTradeNo <span class="token operator">=</span> notifyResult<span class="token punctuation">.</span><span class="token function">getOutTradeNo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 回调结果中的outTradeNo就代表预支付时填写的盲盒订单id</span>
        <span class="token class-name">MysteryBoxOrder</span> mysteryBoxOrder <span class="token operator">=</span> mysteryBoxOrderRepository<span class="token punctuation">.</span><span class="token function">findByIdForFront</span><span class="token punctuation">(</span>outTradeNo<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 切换当前登录上下文为订单创建人的id</span>
        <span class="token class-name">StpUtil</span><span class="token punctuation">.</span><span class="token function">switchTo</span><span class="token punctuation">(</span>mysteryBoxOrder<span class="token punctuation">.</span><span class="token function">creator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        mysteryBoxOrder<span class="token punctuation">.</span><span class="token function">items</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span>mysteryBoxOrderItem <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token comment">// 从盲盒快照中获取商品信息</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Product</span><span class="token punctuation">&gt;</span></span> products <span class="token operator">=</span> mysteryBoxOrderItem<span class="token punctuation">.</span><span class="token function">mysteryBox</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">getProducts</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">stream</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token class-name">MystryBoxView<span class="token punctuation">.</span>TargetOf_products</span><span class="token operator">::</span><span class="token function">toEntity</span><span class="token punctuation">)</span>
                    <span class="token punctuation">.</span><span class="token function">toList</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 随机生成商品</span>
            <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ProductView</span><span class="token punctuation">&gt;</span></span> generateProducts <span class="token operator">=</span> <span class="token function">generateProducts</span><span class="token punctuation">(</span>products<span class="token punctuation">,</span> mysteryBoxOrderItem<span class="token punctuation">.</span><span class="token function">mysteryBoxCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// 更新订单项</span>
            mysteryBoxOrderItemRepository<span class="token punctuation">.</span><span class="token function">updateProducts</span><span class="token punctuation">(</span>mysteryBoxOrderItem<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> generateProducts<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 更新支付时间和微信的交易订单id</span>
        paymentRepository<span class="token punctuation">.</span><span class="token function">updatePayTimeAndTradeNo</span><span class="token punctuation">(</span>mysteryBoxOrder<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> notifyResult<span class="token punctuation">.</span><span class="token function">getTransactionId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 状态变为待发货</span>
        mysteryBoxOrderRepository<span class="token punctuation">.</span><span class="token function">changeStatus</span><span class="token punctuation">(</span>mysteryBoxOrder<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token class-name">ProductOrderStatus</span><span class="token punctuation">.</span><span class="token constant">TO_BE_DELIVERED</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> mysteryBoxOrder<span class="token punctuation">.</span><span class="token function">id</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,10);function g(h,x){const a=o("RouterLink");return c(),u("div",null,[r,k,n("ul",null,[n("li",null,[n("p",null,[s("1-3 "),t(a,{to:"/project/mystery-box/box/box-order-create.html"},{default:p(()=>[s("订单创建阶段")]),_:1}),s("，包含盲盒、地址、优惠券等信息")])]),d,m,v]),y,n("p",null,[s("使用我封装的"),b,s("，只需要填写号基础订单和支付详情（参考"),t(a,{to:"/project/mystery-box/box/box-order-create.html"},{default:p(()=>[s("订单创建")]),_:1}),s("）即可生成支付参数。将结果返回给前端，然后在前端发起支付。")]),f])}const w=e(l,[["render",g],["__file","box-order-pay.html.vue"]]);export{w as default};
